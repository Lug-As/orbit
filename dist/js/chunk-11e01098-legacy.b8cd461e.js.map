{"version":3,"sources":["webpack:///./src/views/ProfileInfo.vue?4d05","webpack:///./src/components/profile/InfoItem.vue?1172","webpack:///src/components/profile/InfoItem.vue","webpack:///./src/components/profile/InfoItem.vue?e14f","webpack:///./src/components/profile/InfoItem.vue","webpack:///src/views/ProfileInfo.vue","webpack:///./src/views/ProfileInfo.vue?0faf","webpack:///./src/views/ProfileInfo.vue","webpack:///./src/assets/img/change.webp","webpack:///./src/components/profile/InfoItem.vue?eb5a","webpack:///./src/assets/img/change.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","_s","user","id","name","on","$event","saveInfo","phone","ref","email","telegram","_e","staticRenderFns","title","directives","rawName","value","expression","modifiers","domProps","type","indexOf","_k","keyCode","key","offEditMode","forceOffEditMode","target","composing","localVal","trim","$forceUpdate","onEditMode","_f","errorMsg","component","module","exports"],"mappings":"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","file":"js/chunk-11e01098-legacy.b8cd461e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"profile__information profile__contant tab-1\"},[(_vm.userLoading)?_c('preloader'):(_vm.user)?_c('div',{staticClass:\"profile__information-row\"},[_c('div',{staticClass:\"profile__information-title\"},[_c('h2',{staticClass:\"profile__information-title-h2\"},[_vm._v(\" Персональные данные \"),_c('span',{staticClass:\"profile__information-span secondary\",attrs:{\"title\":\"Ваш уникальный идентификатор\"}},[_vm._v(\"#\"+_vm._s(_vm.user.id))])]),_c('span',{staticClass:\"profile__information-title-confidentiality\"},[_vm._v(\"Эти данные конфиденциальны. Только ты их видишь.\")])]),_c('div',{staticClass:\"profile__information-body\"},[_c('div',{staticClass:\"profile__information-body-row\"},[_c('info-item',{attrs:{\"title\":\"Имя\",\"value\":_vm.user.name,\"max\":150},on:{\"change\":function($event){return _vm.saveInfo('name', $event)}}}),_c('info-item',{attrs:{\"title\":\"Номер телефона\",\"value\":_vm.user.phone,\"phone\":true},on:{\"change\":function($event){return _vm.saveInfo('phone', $event)}}}),_c('info-item',{ref:\"emailinput\",attrs:{\"title\":\"Эл. почта\",\"value\":_vm.user.email,\"email\":true},on:{\"change\":function($event){return _vm.saveInfo('email', $event)}}}),_c('info-item',{attrs:{\"title\":\"Телеграм\",\"value\":_vm.user.telegram,\"max\":32},on:{\"change\":function($event){return _vm.saveInfo('telegram', $event)}}})],1)]),_c('div',{staticClass:\"profile__information-button\"},[_c('button',{staticClass:\"profile__information-button-text button-grand-black\"},[_vm._v(\"Редактировать данные\")]),_c('button',{staticClass:\"profile__information-button-text button-grand-black\"},[_vm._v(\"Сохранить изменения\")])])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"profile__information-item\"},[_c('div',{staticClass:\"profile__information-item-title\"},[_c('h2',{staticClass:\"profile__information-item-title-text\"},[_vm._v(_vm._s(_vm.title))])]),_c('div',{staticClass:\"profile__information-item-data\"},[(_vm.edit)?_c('div',{staticClass:\"profile__information-item-data-value\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.localVal),expression:\"localVal\",modifiers:{\"trim\":true}},{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.offEditMode),expression:\"offEditMode\"},{name:\"mask\",rawName:\"v-mask\",value:(_vm.mask),expression:\"mask\"}],ref:\"input\",staticClass:\"profile__information-item-data-input\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.localVal)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.offEditMode($event)},\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.forceOffEditMode($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.localVal=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('span',{staticClass:\"input-btn input-btn-save cursor\",attrs:{\"title\":\"Сохранить изменения\"},on:{\"click\":_vm.offEditMode}},[_vm._v(\" ✓ \")]),_c('span',{staticClass:\"input-btn input-btn-close cursor\",attrs:{\"title\":\"Закрыть окно редактирования\"},on:{\"click\":_vm.forceOffEditMode}},[_vm._v(\" × \")])]):_c('div',{staticClass:\"profile__information-item-data-info\"},[_c('p',{staticClass:\"profile__information-item-data-text\",on:{\"dblclick\":_vm.onEditMode}},[(this.phone)?[_vm._v(\" \"+_vm._s(_vm._f(\"phone\")(_vm.value))+\" \")]:(_vm.value)?[_vm._v(\" \"+_vm._s(_vm.value)+\" \")]:[_vm._v(\" Пусто \")]],2),_c('picture',{on:{\"click\":_vm.onEditMode}},[_c('source',{attrs:{\"srcset\":require(\"../../assets/img/change.webp\"),\"type\":\"image/webp\"}}),_c('img',{staticClass:\"profile__information-item-data-text-change\",attrs:{\"src\":require(\"../../assets/img/change.png\"),\"alt\":\"\"}})])]),(_vm.errorMsg)?_c('div',{staticClass:\"errors-box\"},[_c('span',{staticClass:\"red\"},[_vm._v(_vm._s(_vm.errorMsg))])]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"profile__information-item\">\r\n\t\t<div class=\"profile__information-item-title\">\r\n\t\t\t<h2 class=\"profile__information-item-title-text\">{{ title }}</h2>\r\n\t\t</div>\r\n\t\t<div class=\"profile__information-item-data\">\r\n\t\t\t<div class=\"profile__information-item-data-value\" v-if=\"edit\">\r\n\t\t\t\t<input\r\n\t\t\t\t\tref=\"input\"\r\n\t\t\t\t\tv-model.trim=\"localVal\"\r\n\t\t\t\t\tv-click-outside=\"offEditMode\"\r\n\t\t\t\t\t@keypress.enter=\"offEditMode\"\r\n\t\t\t\t\t@keydown.esc=\"forceOffEditMode\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tclass=\"profile__information-item-data-input\"\r\n\t\t\t\t\tv-mask=\"mask\"\r\n\t\t\t\t>\r\n\t\t\t\t<span @click=\"offEditMode\" class=\"input-btn input-btn-save cursor\" title=\"Сохранить изменения\">\r\n\t\t\t\t\t✓\r\n\t\t\t\t</span>\r\n\t\t\t\t<span @click=\"forceOffEditMode\" class=\"input-btn input-btn-close cursor\"\r\n\t\t\t\t\t\ttitle=\"Закрыть окно редактирования\">\r\n\t\t\t\t\t&times;\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"profile__information-item-data-info\" v-else>\r\n\t\t\t\t<p\r\n\t\t\t\t\t@dblclick=\"onEditMode\"\r\n\t\t\t\t\tclass=\"profile__information-item-data-text\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<template v-if=\"this.phone\">\r\n\t\t\t\t\t\t{{ value | phone }}\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template v-else-if=\"value\">\r\n\t\t\t\t\t\t{{ value }}\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\tПусто\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</p>\r\n\t\t\t\t<picture @click=\"onEditMode\">\r\n\t\t\t\t\t<source srcset=\"../../assets/img/change.webp\" type=\"image/webp\">\r\n\t\t\t\t\t<img class=\"profile__information-item-data-text-change\" src=\"../../assets/img/change.png\"\r\n\t\t\t\t\t\t  alt=\"\">\r\n\t\t\t\t</picture>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"errors-box\" v-if=\"errorMsg\">\r\n\t\t\t\t<span class=\"red\">{{ errorMsg }}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport {directive} from 'v-click-outside'\r\nimport {maxLength, required, email, minLength} from 'vuelidate/lib/validators'\r\n\r\nexport default {\r\n\tname: 'InfoItem',\r\n\tprops: {\r\n\t\ttitle: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\tvalue: {\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\tmax: {\r\n\t\t\ttype: Number,\r\n\t\t},\r\n\t\tphone: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t\temail: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t},\r\n\tdata: () => ({\r\n\t\tedit: false,\r\n\t\tlocalVal: null,\r\n\t\terrorMsg: null,\r\n\t}),\r\n\tcomputed: {\r\n\t\trules() {\r\n\t\t\tconst rules = {}\r\n\t\t\tif (this.max) {\r\n\t\t\t\trules.maxLength = maxLength(this.max)\r\n\t\t\t}\r\n\t\t\tif (this.phone) {\r\n\t\t\t\trules.maxLength = maxLength(10)\r\n\t\t\t\trules.minLength = minLength(10)\r\n\t\t\t}\r\n\t\t\tif (this.email) {\r\n\t\t\t\trules.email = email\r\n\t\t\t}\r\n\t\t\treturn rules\r\n\t\t},\r\n\t\tmask() {\r\n\t\t\tif (this.phone) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tmask: '8 (999) 999-99-99',\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\tonEditMode() {\r\n\t\t\tthis.edit = true\r\n\t\t\tthis.$nextTick(() => this.focusInput())\r\n\t\t},\r\n\t\toffEditMode() {\r\n\t\t\tif (this.validate()) {\r\n\t\t\t\tif (this.value !== this.localVal) {\r\n\t\t\t\t\tthis.emitChange()\r\n\t\t\t\t}\r\n\t\t\t\tthis.setBaseState()\r\n\t\t\t}\r\n\t\t},\r\n\t\tforceOffEditMode() {\r\n\t\t\tthis.setBaseState()\r\n\t\t\tthis.freshData()\r\n\t\t},\r\n\t\tsetBaseState() {\r\n\t\t\tthis.errorMsg = null\r\n\t\t\tthis.$v.$reset()\r\n\t\t\tthis.edit = false\r\n\t\t},\r\n\t\tfreshData() {\r\n\t\t\tthis.localVal = this.value\r\n\t\t},\r\n\t\tfocusInput() {\r\n\t\t\tthis.$refs.input.focus()\r\n\t\t},\r\n\t\temitChange() {\r\n\t\t\tthis.$emit('change', this.localVal)\r\n\t\t},\r\n\t\tvalidate() {\r\n\t\t\tthis.$v.$touch()\r\n\t\t\tif (this.$v.$invalid) {\r\n\t\t\t\tthis.setErrors()\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\treturn true\r\n\t\t},\r\n\t\tsetErrors() {\r\n\t\t\tif (!this.$v.localVal.required) {\r\n\t\t\t\tthis.errorMsg = 'Это поле обязательно для заполнения.'\r\n\t\t\t} else if (this.$v.localVal.maxLength !== undefined && !this.$v.localVal.maxLength) {\r\n\t\t\t\tthis.errorMsg = 'Количество символов не должно превышать ' + this.$v.localVal.$params.maxLength.max\r\n\t\t\t} else if (this.$v.localVal.minLength !== undefined && !this.$v.localVal.minLength) {\r\n\t\t\t\tthis.errorMsg = 'Количество символов не должно быть меньше, чем ' + this.$v.localVal.$params.minLength.min\r\n\t\t\t} else if (this.$v.localVal.email !== undefined && !this.$v.localVal.email) {\r\n\t\t\t\tthis.errorMsg = 'Адрес должен быть в формате Email'\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tvalidations() {\r\n\t\treturn {\r\n\t\t\tlocalVal: {\r\n\t\t\t\trequired,\r\n\t\t\t\t...this.rules,\r\n\t\t\t},\r\n\t\t}\r\n\t},\r\n\tdirectives: {\r\n\t\tclickOutside: directive,\r\n\t},\r\n\tmounted() {\r\n\t\tthis.freshData()\r\n\t},\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.errors-box {\r\n\tmargin-left: 10px;\r\n\tfont-size: 14px;\r\n}\r\n\r\n.input-btn {\r\n\tmargin-left: 4px;\r\n\tline-height: 1.2;\r\n\tvertical-align: middle;\r\n\ttransition: color .2s;\r\n\r\n\t&:hover {\r\n\t\tcolor: #BEBEBE;\r\n\t}\r\n\r\n\t&-close {\r\n\t\tfont-size: 36px;\r\n\t}\r\n\r\n\t&-save {\r\n\t\tfont-size: 24px;\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InfoItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InfoItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InfoItem.vue?vue&type=template&id=7ab2ac6a&scoped=true&\"\nimport script from \"./InfoItem.vue?vue&type=script&lang=js&\"\nexport * from \"./InfoItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InfoItem.vue?vue&type=style&index=0&id=7ab2ac6a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ab2ac6a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<div class=\"profile__information profile__contant tab-1\">\r\n\t\t<preloader v-if=\"userLoading\"/>\r\n\t\t<div v-else-if=\"user\" class=\"profile__information-row\">\r\n\t\t\t<div class=\"profile__information-title\">\r\n\t\t\t\t<h2 class=\"profile__information-title-h2\">\r\n\t\t\t\t\tПерсональные данные\r\n\t\t\t\t\t<span class=\"profile__information-span secondary\"\r\n\t\t\t\t\t\t\ttitle=\"Ваш уникальный идентификатор\">#{{ user.id }}</span>\r\n\t\t\t\t</h2>\r\n\t\t\t\t<span class=\"profile__information-title-confidentiality\">Эти данные конфиденциальны. Только ты их\r\n                        видишь.</span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"profile__information-body\">\r\n\t\t\t\t<div class=\"profile__information-body-row\">\r\n\t\t\t\t\t<info-item\r\n\t\t\t\t\t\ttitle=\"Имя\"\r\n\t\t\t\t\t\t:value=\"user.name\"\r\n\t\t\t\t\t\t:max=\"150\"\r\n\t\t\t\t\t\t@change=\"saveInfo('name', $event)\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<info-item\r\n\t\t\t\t\t\ttitle=\"Номер телефона\"\r\n\t\t\t\t\t\t:value=\"user.phone\"\r\n\t\t\t\t\t\t:phone=\"true\"\r\n\t\t\t\t\t\t@change=\"saveInfo('phone', $event)\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<info-item\r\n\t\t\t\t\t\tref=\"emailinput\"\r\n\t\t\t\t\t\ttitle=\"Эл. почта\"\r\n\t\t\t\t\t\t:value=\"user.email\"\r\n\t\t\t\t\t\t:email=\"true\"\r\n\t\t\t\t\t\t@change=\"saveInfo('email', $event)\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<info-item\r\n\t\t\t\t\t\ttitle=\"Телеграм\"\r\n\t\t\t\t\t\t:value=\"user.telegram\"\r\n\t\t\t\t\t\t:max=\"32\"\r\n\t\t\t\t\t\t@change=\"saveInfo('telegram', $event)\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"profile__information-button\">\r\n\t\t\t\t<button class=\"profile__information-button-text button-grand-black\">Редактировать данные</button>\r\n\t\t\t\t<button class=\"profile__information-button-text button-grand-black\">Сохранить изменения</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport InfoItem from '@/components/profile/InfoItem'\r\nimport Preloader from '@/components/Preloader'\r\n\r\nexport default {\r\n\tname: 'ProfileInfo',\r\n\ttitle: 'Мои данные',\r\n\tcomponents: {Preloader, InfoItem},\r\n\tcomputed: {\r\n\t\tuser() {\r\n\t\t\treturn this.$store.getters.user\r\n\t\t},\r\n\t\tuserLoading() {\r\n\t\t\treturn this.$store.getters.userLoading\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\tsaveInfo(type, value) {\r\n\t\t\tlet passEmail = true\r\n\t\t\tconst oldVal = this.user[type]\r\n\t\t\tif (type === 'email') {\r\n\t\t\t\tpassEmail = confirm('Вы точно хотите изменить email? После его изменения, его необходимо потвердить.')\r\n\t\t\t}\r\n\t\t\tif (passEmail) {\r\n\t\t\t\tthis.user[type] = value\r\n\t\t\t\tthis.$store.dispatch('saveUserInfo', {\r\n\t\t\t\t\ttype, value,\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tthis.$notify('Новые данные сохранены!')\r\n\t\t\t\t\t\tif (type === 'email') {\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tlocation.reload()\r\n\t\t\t\t\t\t\t}, 800)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(e => {\r\n\t\t\t\t\t\tlet displayError = true\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\te.response && e.response.data && e.response.data['errors'] && e.response.data['errors']['email']\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tconst email_error = e.response.data['errors']['email'][0]\r\n\t\t\t\t\t\t\tif (email_error === 'The email has already been taken.') {\r\n\t\t\t\t\t\t\t\talert('Такой email уже занят.')\r\n\t\t\t\t\t\t\t\tthis.user[type] = oldVal\r\n\t\t\t\t\t\t\t\tthis.$refs['emailinput'].freshData()\r\n\t\t\t\t\t\t\t\tdisplayError = false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (displayError) {\r\n\t\t\t\t\t\t\talert('Произошла ошибка отправки формы. Повторите позже.')\r\n\t\t\t\t\t\t\tthis.user[type] = oldVal\r\n\t\t\t\t\t\t\tthis.$refs['emailinput'].freshData()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tthis.$refs['emailinput'].freshData()\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfileInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfileInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProfileInfo.vue?vue&type=template&id=97f0219a&\"\nimport script from \"./ProfileInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./ProfileInfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/webp;base64,UklGRugAAABXRUJQVlA4WAoAAAAQAAAAGAAAGAAAQUxQSI8AAAABcFXbdtQcCU/CkxAJSMABcUAdgIPWAXUQCZEQCZHwJDDP8B8RCtO2YZym+xIOyaU+6jGbl1885hakP+SQlTpJkzfkl1faXJvr/sWGZGkI5ug3n9euJtMfNv1h0x82/WHTH/Eu8bO2+h3Mrfsib6OGNuY4QNmbBccRtFTgEMArkSMkgPjdDwkdgMZ+VxYEAABWUDggMgAAAFADAJ0BKhkAGQA+iTSUSCUjIiE36ACgEQlpAACsbmkXPw5IAP7vsK8P+NqowBAO4AAA\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InfoItem.vue?vue&type=style&index=0&id=7ab2ac6a&lang=scss&scoped=true&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAMAAADzN3VRAAAAUVBMVEUAAACvr6+/v7+3t7e/v7+6urq/v7+7u7u8vLy/v7+9vb2/v7+9vb2/v7+9vb29vb29vb29vb2/v7++vr69vb2/v7++vr6+vr6+vr6+vr6+vr5qu/KUAAAAGnRSTlMAEBAgIDAwQFBfYG9wf4CPkJ+foK+vv8/f7/AMRU4AAACOSURBVCjPvdHNEoMgDEbRD7BosWp/KJC8/4N2kVEhpdve7RmSAYBOl8zJdYGCvacurIDlHsTiMGeYpRwFGYW1zOTxeI1HVgCI5AEe1HIAV/IA+Bc00kAtLVSi4BQNp6TbDi60Qn4/MZZGHMEtMkrJxERRdigZpuNHlFT9W+y3ZHmUzSgw8Sn3SKyitwWADzxMDBATBp/HAAAAAElFTkSuQmCC\""],"sourceRoot":""}