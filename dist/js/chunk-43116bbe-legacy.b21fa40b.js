(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43116bbe"],{"0cb2":function(e,t,i){var r=i("7b0b"),s=Math.floor,a="".replace,o=/\$([$&'`]|\d\d?|<[^>]*>)/g,n=/\$([$&'`]|\d\d?)/g;e.exports=function(e,t,i,l,c,u){var f=i+e.length,_=l.length,d=n;return void 0!==c&&(c=r(c),d=o),a.call(u,d,(function(r,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,i);case"'":return t.slice(f);case"<":o=c[a.slice(1,-1)];break;default:var n=+a;if(0===n)return r;if(n>_){var u=s(n/10);return 0===u?r:u<=_?void 0===l[u-1]?a.charAt(1):l[u-1]+a.charAt(1):r}o=l[n-1]}return void 0===o?"":o}))}},"25c7":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"profile__offer profile__questionnaire profile__contant tab-4"},[!e.userLoading&&e.user.verifyed?i("div",{staticClass:"profile__offer-row profile__questionnaire-row"},[i("div",{staticClass:"profile__questionnaire-create"},[i("button",{staticClass:"profile__questionnaire-create-button button-grand-black",on:{click:e.toggleCreateMode}},[i("span",{staticClass:"big_char",class:{"big_char-cross":e.createMode}},[e._v("+")]),e.createMode?[e._v(" Закрыть форму ")]:[e._v(" Добавить предложение ")]],2)]),i("transition",{attrs:{name:"slide-up-down"}},[e.createMode?i("project-form",{on:{submit:e.createProject}}):e._e()],1),i("div",{staticClass:"profile__questionnaire-accounts"},[i("div",{staticClass:" profile__questionnaire-accounts-row"},[e._m(0),e.projectLoading?i("preloader"):e.userProjects&&e.userProjects.length?i("div",{staticClass:"offers__project-list"},e._l(e.userProjects,(function(t){return i("div",{staticClass:"offers__proposal-body"},[i("div",{staticClass:"offers__proposal-body-title"},[i("div",{staticClass:"offers__title-info"},[i("router-link",{attrs:{to:{name:"Project",params:{id:t.id}},custom:""},scopedSlots:e._u([{key:"default",fn:function(r){var s=r.navigate;return[i("h2",{staticClass:"offers__info-text cursor",on:{click:s}},[e._v(e._s(t.name))])]}}],null,!0)})],1),i("div",{staticClass:"offers__title-price price-info"},[i("p",{staticClass:"offers__price-text "},[e._v("Желаемый бюджет:")]),i("span",{staticClass:"offers__price-value"},[e._v(e._s(t.budget.toLocaleString())+" ₽")])])]),i("div",{staticClass:"offers__proposal-item details"},[i("div",{staticClass:"offers__proposal-item-info"},[i("p",{staticClass:"offers__details-text"},[e._v(" "+e._s(e._f("cut")(t.text))+" ")])])]),i("div",{staticClass:"offers__proposal-item region"},[i("div",{staticClass:"offers__proposal-item-info justify-item"},[i("div",{staticClass:"offers__proposal-item-button"},[i("div",{staticClass:"offers__proposal-item-button-row"},[i("div",{staticClass:"offers__title-price price-button"},[i("p",{staticClass:"offers__price-text"},[e._v("Желаемый бюджет:")]),i("span",{staticClass:"offers__price-value"},[e._v(e._s(t.budget.toLocaleString())+" ₽")])])]),i("div",{staticClass:"offers__item-button"},[i("button",{staticClass:"button-grand-black big",on:{click:function(i){return e.deleteProject(t.id)}}},[e._v(" Удалить предложение ")])])])])])])})),0):[i("p",{staticClass:"empty-result-text"},[e._v("У вас пока нет опубликованных рекламных предложений")])],i("div",{staticClass:"objects-pagination"},[i("pagination",{attrs:{data:e.userProjectsPagination,limit:2},on:{"pagination-change-page":e.changePage}})],1)],2)])],1):e._e()])},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"profile__questionnaire-accounts-row-title"},[i("h2",{staticClass:"profile__offer-accounts-row-title-h2 profile__questionnaire-accounts-row-title-h2"},[e._v(" Актуальные предложения работы ")])])}],a=(i("b0c0"),i("a9e3"),i("8ba4"),i("ac1f"),i("5319"),i("f152")),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"profile__questionnaire-body"},[i("div",{staticClass:"profile__offer-body-row profile__questionnaire-body-row"},[e._m(0),i("div",{staticClass:"profile__offer-item profile__questionnaire-item"},[i("div",{staticClass:"profile__questionnaire-item-info"},[e._m(1),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.name,expression:"name",modifiers:{trim:!0}}],staticClass:"profile__questionnaire-item-info-input",attrs:{type:"text"},domProps:{value:e.name},on:{blur:[e.$v.name.$touch,function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||(e.name=t.target.value.trim())}}}),e.$v.name.$error?i("p",{staticClass:"red account_form__error"},[e.$v.name.required?e._e():[e._v(" Поле обязательно для заполнения ")],e.$v.name.maxLength?e._e():[e._v(" Длина названия не должна превышать "+e._s(e.$v.name.$params.maxLength.max)+" символов ")]],2):e._e()]),i("div",{staticClass:"profile__questionnaire-item-info"},[e._m(2),i("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.text,expression:"text",modifiers:{trim:!0}}],staticClass:"profile__questionnaire-item-info-textarea",domProps:{value:e.text},on:{blur:[e.$v.text.$touch,function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||(e.text=t.target.value.trim())}}}),e.$v.text.$error?i("p",{staticClass:"red account_form__error"},[e.$v.text.required?e._e():[e._v(" Поле обязательно для заполнения ")],e.$v.text.maxLength?e._e():[e._v(" Длина описания не должна превышать "+e._s(e.$v.text.$params.maxLength.max)+" символов ")]],2):e._e()]),i("div",{staticClass:"profile__questionnaire-item-info"},[e._m(3),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.budget,expression:"budget",modifiers:{number:!0}}],staticClass:"profile__questionnaire-item-info-input",attrs:{type:"text"},domProps:{value:e.budget},on:{keydown:e.resolveInputKeys,blur:[e.$v.budget.$touch,function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||(e.budget=e._n(t.target.value))}}}),e.$v.budget.$error?i("p",{staticClass:"red account_form__error"},[e.$v.budget.required?e._e():[e._v(" Поле обязательно для заполнения ")],e.$v.budget.minValue?e._e():[e._v(" Бюджет должен быть больше 0 ")],e.$v.budget.maxValue?e._e():[e._v(" Бюджет должен быть меньше "+e._s((e.$v.budget.$params.maxValue.max+1).toLocaleString())+" ")]],2):e._e()]),i("div",{staticClass:"profile__questionnaire-item-info"},[i("h2",{staticClass:"profile__questionnaire-item-info-h2"},[e._v("Вид рекламы")]),i("v-select",{staticClass:"main__vue-select ac-proj-form__select",attrs:{label:"name",options:e.allTypes,reduce:function(e){return e.id},multiple:""},model:{value:e.ad_types,callback:function(t){e.ad_types=t},expression:"ad_types"}})],1),i("div",{staticClass:"profile__questionnaire-item-info"},[i("h2",{staticClass:"profile__questionnaire-item-info-h2"},[e._v(" Регион ")]),i("v-select",{staticClass:"main__vue-select main__vue-select--region ac-proj-form__select",attrs:{label:"name",options:e.allRegions,reduce:function(e){return e.id},selectable:function(e){return!e.hasOwnProperty("group")}},scopedSlots:e._u([{key:"option",fn:function(t){var r=t.group,s=t.name;return[r?i("div",{staticClass:"group"},[e._v(" "+e._s(r)+" ")]):[e._v(" "+e._s(s)+" ")]]}}]),model:{value:e.region,callback:function(t){e.region=t},expression:"region"}}),i("span",{staticClass:"profile__offer-item-info-span"},[e._v("Заполните поле, если ваша реклама привязана к региону.")])],1),i("div",{staticClass:"profile__questionnaire-item-info"},[i("h2",{staticClass:"profile__questionnaire-item-info-h2"},[e._v(" Желаемая аудитория ")]),i("div",{staticClass:"main__details-from-to"},[i("div",{staticClass:"main__details-from"},[i("p",{staticClass:"main__details-text"},[e._v("от")]),i("div",{staticClass:"main__details-input"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.followers_from,expression:"followers_from",modifiers:{number:!0}}],staticClass:"profile__details-input-small main__details-input-small",domProps:{value:e.followers_from},on:{keydown:e.resolveInputKeys,input:function(t){t.target.composing||(e.followers_from=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),i("div",{staticClass:"main__details-to"},[i("p",{staticClass:"main__details-text"},[e._v("до")]),i("div",{staticClass:"main__details-input"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.followers_to,expression:"followers_to",modifiers:{number:!0}}],staticClass:"profile__details-input-small main__details-input-small",domProps:{value:e.followers_to},on:{keydown:e.resolveInputKeys,input:function(t){t.target.composing||(e.followers_to=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),i("p",{staticClass:"profile__offer-deteilds-text main__details-text"},[e._v("Подписчиков")])])]),i("span",{staticClass:"profile__offer-item-info-span"},[e._v("Заполните поле, если вы знаете сколько должно быть подписчиков у блогера.")])]),i("div",{staticClass:"profile__offer-item-button-create profile__questionnaire-item-button-create"},[e._m(4),i("button",{staticClass:"profile__offer-item-button profile__questionnaire-item-button button-grand-black",attrs:{disabled:this.$v.$invalid},on:{click:e.submit}},[e._v(" Создать предложение ")]),i("span",{staticClass:"profile__offer-item-info-span"},[e._v(" Внимание! Все предложения модерируются. Если предложение не соответствует нашим правилам, администраторы вправе удалить предложение. ")])])])])])},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"profile__offer-body-avatar"},[r("picture",[r("source",{attrs:{srcset:i("44f6"),type:"image/webp"}}),r("img",{attrs:{src:i("f31a"),alt:""}})])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h2",{staticClass:"profile__questionnaire-item-info-h2"},[e._v(" Заголовок предложения "),i("span",{staticClass:"red"},[e._v("*")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h2",{staticClass:"profile__questionnaire-item-info-h2"},[e._v(" Описание предложения "),i("span",{staticClass:"red"},[e._v("*")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h2",{staticClass:"profile__questionnaire-item-info-h2"},[e._v(" Бюджет "),i("span",{staticClass:"secondary"},[e._v("(в руб.)")]),i("span",{staticClass:"red"},[e._v("*")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[i("span",{staticClass:"red"},[e._v("*")]),e._v(" Обязательные поля")])}],l=(i("caad"),i("b5ae")),c={name:"ProjectForm",data:function(){return{name:null,text:null,budget:null,followers_from:null,followers_to:null,ad_types:[],region:null}},computed:{allTypes:function(){return this.$store.getters.types},allRegions:function(){return this.$store.getters.regions}},methods:{submit:function(){if(this.validate()){var e={name:this.name,text:this.text,budget:this.budget,followers_from:this.followers_from,followers_to:this.followers_to,ad_types:this.ad_types,region_id:this.region};this.$emit("submit",e)}},validate:function(){return this.$v.$touch(),!this.$v.$invalid},resolveInputKeys:function(e){var t=[8,46,37,38,39,40,116,13];if(!t.includes(e.keyCode)){var i=e.key;Number.isInteger(parseInt(i))||(e.returnValue=!1,e.preventDefault&&e.preventDefault())}}},validations:{name:{required:l["required"],maxLength:Object(l["maxLength"])(250)},text:{required:l["required"],maxLength:Object(l["maxLength"])(3e3)},budget:{required:l["required"],integer:l["integer"],maxValue:Object(l["maxValue"])(999999),minValue:Object(l["minValue"])(1)}},mounted:function(){this.$store.dispatch("loadTypes"),this.$store.dispatch("loadRegions")}},u=c,f=i("2877"),_=Object(f["a"])(u,o,n,!1,null,"5f09f6c3",null),d=_.exports,p={name:"ProfileProjects",data:function(){return{createMode:!1}},title:"Мои рекламные предложения",components:{ProjectForm:d,Preloader:a["a"]},computed:{user:function(){return this.$store.getters.user},userLoading:function(){return this.$store.getters.userLoading},userProjects:function(){return this.$store.getters.userProjects},userProjectsPagination:function(){return this.$store.getters.userProjectsPagination},projectLoading:function(){return this.$store.getters.projectLoading},page:function(){var e;return this.$route.query["page"]?(e=Math.abs(parseInt(this.$route.query["page"])),1===e&&this.clearQueryParam("page")):e=1,0!==e&&Number.isInteger(e)||(e=1),e}},methods:{toggleCreateMode:function(){this.createMode=!this.createMode},loadUserProjects:function(){this.$store.dispatch("loadUserProjects",{page:this.page})},createProject:function(e){var t=this;this.$store.dispatch("createProject",e).then((function(){t.toggleCreateMode(),t.changePage()||(t.scrollToTop(390),t.loadUserProjects())})).catch((function(){alert("Произошла ошибка отправки формы. Повторите позже.")}))},deleteProject:function(e){confirm("Вы точно хотите удалить рекламное предложение? Восстановить его будет невозможно.")&&this.$store.dispatch("deleteProject",e)},clearQueryParam:function(e){if(void 0!==this.$route.query[e]){var t=Object.assign({},this.$route.query);delete t[e],this.$router.replace({query:t})}},changePage:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return t!==this.page&&(this.scrollToTop(300),this.$router.push({name:this.$route.name,query:{page:t}}).then((function(){return e.loadUserProjects()})),!0)},scrollToTop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;window.scrollTo({top:e,behavior:"smooth"})},starterFunction:function(){this.user.verifyed&&(this.userProjects.length&&this.page===this.userProjectsPagination.current_page||this.loadUserProjects())}},mounted:function(){this.user?this.starterFunction():this.$onUserLoad.hook(this.starterFunction)}},m=p,v=Object(f["a"])(m,r,s,!1,null,null,null);t["default"]=v.exports},"44f6":function(e,t,i){e.exports=i.p+"img/cosmonavt.66e6ba9d.webp"},5319:function(e,t,i){"use strict";var r=i("d784"),s=i("825a"),a=i("50c4"),o=i("a691"),n=i("1d80"),l=i("8aa5"),c=i("0cb2"),u=i("14c3"),f=Math.max,_=Math.min,d=function(e){return void 0===e?e:String(e)};r("replace",2,(function(e,t,i,r){var p=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=r.REPLACE_KEEPS_$0,v=p?"$":"$0";return[function(i,r){var s=n(this),a=void 0==i?void 0:i[e];return void 0!==a?a.call(i,s,r):t.call(String(s),i,r)},function(e,r){if(!p&&m||"string"===typeof r&&-1===r.indexOf(v)){var n=i(t,e,this,r);if(n.done)return n.value}var g=s(e),h=String(this),b="function"===typeof r;b||(r=String(r));var C=g.global;if(C){var $=g.unicode;g.lastIndex=0}var x=[];while(1){var y=u(g,h);if(null===y)break;if(x.push(y),!C)break;var P=String(y[0]);""===P&&(g.lastIndex=l(h,a(g.lastIndex),$))}for(var w="",q=0,j=0;j<x.length;j++){y=x[j];for(var k=String(y[0]),E=f(_(o(y.index),h.length),0),L=[],S=1;S<y.length;S++)L.push(d(y[S]));var U=y.groups;if(b){var I=[k].concat(L,E,h);void 0!==U&&I.push(U);var M=String(r.apply(void 0,I))}else M=c(k,h,E,L,U,r);E>=q&&(w+=h.slice(q,E)+M,q=E+k.length)}return w+h.slice(q)}]}))},"5e89":function(e,t,i){var r=i("861d"),s=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&s(e)===e}},"8ba4":function(e,t,i){var r=i("23e7"),s=i("5e89");r({target:"Number",stat:!0},{isInteger:s})},caad:function(e,t,i){"use strict";var r=i("23e7"),s=i("4d64").includes,a=i("44d2"),o=i("ae40"),n=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!n},{includes:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},f31a:function(e,t,i){e.exports=i.p+"img/cosmonavt.2b419bdd.png"}}]);
//# sourceMappingURL=chunk-43116bbe-legacy.b21fa40b.js.map