(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41e482fa"],{"5b11":function(t,i,e){"use strict";e("9f35")},8403:function(t,i,e){"use strict";var a=e("bc3a"),s=e.n(a);const r=()=>s.a.post("email/resend"),l=(t,i,e,a)=>s.a.post("email/verify/"+String(t)+"/"+String(i),null,{params:{expires:String(e),signature:String(a)}});i["a"]={async resendEmailVerification(){return await r()},async verifyEmail(t,i,e,a){return await l(t,i,e,a)}}},"9f35":function(t,i,e){},c66d:function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("section",{staticClass:"profile"},[e("div",{staticClass:"container"},[e("div",{staticClass:"profile__tab-menu"},[e("h2",{staticClass:"profile__main-title"},[t._v("Личный кабинет")]),e("ul",{staticClass:"profile__tab-menu-ul"},[e("router-link",{staticClass:"profile__tab-menu-ul-li profile__tab-menu-ul-li-drop",attrs:{to:{name:"Profile"},"active-class":"choice",exact:!0}},[e("div",{staticClass:"profile__tab-menu-li-body"},[e("span",{staticClass:"profile__tab-menu-li-link"},[t._v("Мои данные")])])]),e("router-link",{staticClass:"profile__tab-menu-ul-li profile__tab-menu-ul-li-drop",attrs:{to:{name:"ProfileNotices"},"active-class":"choice"}},[e("div",{staticClass:"profile__tab-menu-li-body"},[e("span",{staticClass:"profile__tab-menu-li-link"},[t._v("Уведомления")]),t.noticesCount?e("span",{staticClass:"profile__tab-menu-li-span"},[t._v(t._s(t.noticesCount))]):t._e()])]),e("li",{staticClass:"profile__tab-menu-ul-li profile__tab-menu-ul-li-last"},[e("span",{staticClass:"profile__tab-menu-li-link black-arrow"},[t._v("Разместить")]),e("ul",{staticClass:"profile__tab-menu-ul-drop"},[e("router-link",{attrs:{to:{name:"ProfileAccounts"},custom:""},scopedSlots:t._u([{key:"default",fn:function(i){var a=i.navigate,s=i.isActive;return[e("li",{staticClass:"profile__tab-menu-ul-li profile__tab-menu-ul-li-drop",class:{choice:s},on:{click:a}},[e("span",{staticClass:"profile__tab-menu-li-link"},[t._v("Анкету блогера")])])]}}])}),e("router-link",{attrs:{to:{name:"ProfileProjects"},custom:""},scopedSlots:t._u([{key:"default",fn:function(i){var a=i.navigate,s=i.isActive;return[e("li",{staticClass:"profile__tab-menu-ul-li profile__tab-menu-ul-li-drop",class:{choice:s},on:{click:a}},[e("span",{staticClass:"profile__tab-menu-li-link"},[t._v("Рекламное предложение")])])]}}])})],1)])],1)]),t.userLoading||t.user.verifyed?t._e():e("div",{staticClass:"profile__confirmation"},[e("div",{staticClass:"profile__confirmation-row"},[t._m(0),e("div",{staticClass:"profile__confirmation-button"},[t.mailSending?e("preloader",{attrs:{small:""}}):e("button",{staticClass:"button-grand-black",on:{click:t.resendVerification}},[t._v(" Отправить повторно ")])],1)])]),e("br"),t.userLoading?e("preloader"):e("router-view")],1)])},s=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"profile__confirmation-text"},[e("p",{staticClass:"profile__confirmation-text-p"},[t._v(" Чтобы создавать заявки и получать предложения - подтвердите свою почту. Мы отправили вам сообщение на E-mail. ")]),e("p",{staticClass:"profile__confirmation-text-p secondary"},[t._v(" (Обновите страницу, если вы уже подтвердили почту) ")])])}],r=(e("5319"),e("f152")),l=e("8403"),n={name:"Profile",data:()=>({mailSending:!1}),components:{Preloader:r["a"]},computed:{user(){return this.$store.getters.user},userLoading(){return this.$store.getters.userLoading},noticesCount(){return this.$store.getters.noticesPagination.total}},methods:{resendVerification(){this.mailSending=!0,l["a"].resendEmailVerification().then(()=>{this.$notify("Письмо с подтверждением отправлено на ваш E-mail.")}).catch(t=>{t.response&&429===t.response.status&&alert("Вы слишком часто просите переотправить вам подтверждение. Повторите попытку позже.")}).finally(()=>{this.mailSending=!1})},clearQueryParam(t){if(void 0!==this.$route.query[t]){let i=Object.assign({},this.$route.query);delete i[t],this.$router.replace({query:i})}}},mounted(){this.$route.query["reload"]&&(this.clearQueryParam("reload"),setTimeout(()=>{location.reload()},400)),this.user?this.user.verifyed&&this.$store.dispatch("loadNotices",{page:1}):this.$onUserLoad.hook(()=>{this.user.verifyed&&this.$store.dispatch("loadNotices",{page:1})})}},o=n,c=(e("5b11"),e("2877")),u=Object(c["a"])(o,a,s,!1,null,"4331956c",null);i["default"]=u.exports}}]);