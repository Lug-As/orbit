(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-92cdfc32"],{8403:function(t,e,i){"use strict";var a=i("bc3a"),s=i.n(a);const r=()=>s.a.post("email/resend"),l=(t,e,i,a)=>s.a.post("email/verify/"+String(t)+"/"+String(e),null,{params:{expires:String(i),signature:String(a)}});e["a"]={async resendEmailVerification(){return await r()},async verifyEmail(t,e,i,a){return await l(t,e,i,a)}}},c66d:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"profile"},[i("div",{staticClass:"container"},[i("div",{staticClass:"profile__tab-menu"},[i("ul",{staticClass:"profile__tab-menu-ul"},[i("router-link",{staticClass:"profile__tab-menu-ul-li profile__tab-menu-ul-li-drop",attrs:{to:{name:"Profile"},"active-class":"choice",exact:!0}},[i("div",{staticClass:"profile__tab-menu-li-body"},[i("span",{staticClass:"profile__tab-menu-li-link"},[t._v("Мои данные")])])]),i("router-link",{staticClass:"profile__tab-menu-ul-li profile__tab-menu-ul-li-drop",attrs:{to:{name:"ProfileNotices"},"active-class":"choice"}},[i("div",{staticClass:"profile__tab-menu-li-body"},[i("span",{staticClass:"profile__tab-menu-li-link"},[t._v("Уведомления")]),t.noticesCount?i("span",{staticClass:"profile__tab-menu-li-span"},[t._v(t._s(t.noticesCount))]):t._e()])]),i("li",{staticClass:"profile__tab-menu-ul-li profile__tab-menu-ul-li-last"},[i("span",{staticClass:"profile__tab-menu-li-link black-arrow"},[t._v("Разместить")]),i("ul",{staticClass:"profile__tab-menu-ul-drop"},[i("router-link",{attrs:{to:{name:"ProfileAccounts"},custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.navigate,s=e.isActive;return[i("li",{staticClass:"profile__tab-menu-ul-li profile__tab-menu-ul-li-drop",class:{choice:s},on:{click:a}},[i("span",{staticClass:"profile__tab-menu-li-link"},[t._v("Анкету блогера")])])]}}])}),i("router-link",{attrs:{to:{name:"ProfileProjects"},custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.navigate,s=e.isActive;return[i("li",{staticClass:"profile__tab-menu-ul-li profile__tab-menu-ul-li-drop",class:{choice:s},on:{click:a}},[i("span",{staticClass:"profile__tab-menu-li-link"},[t._v("Рекламное предложение")])])]}}])})],1)])],1)]),t.userLoading||t.user.verifyed?t._e():i("div",{staticClass:"profile__confirmation"},[i("div",{staticClass:"profile__confirmation-row"},[t._m(0),i("div",{staticClass:"profile__confirmation-button"},[t.mailSending?i("preloader",{attrs:{height:"90"}}):i("button",{staticClass:"button-grand-black",on:{click:t.resendVerification}},[t._v(" Отправить повторно ")])],1)])]),i("br"),t.userLoading?i("preloader"):i("router-view")],1)])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"profile__confirmation-text"},[i("p",{staticClass:"profile__confirmation-text-p"},[t._v(" Чтобы создавать заявки и получать предложения - подтвердите свою почту. Мы отправили вам сообщение на E-mail. ")]),i("p",{staticClass:"profile__confirmation-text-p secondary"},[t._v(" (Обновите страницу, если вы уже подтвердили почту) ")])])}],r=(i("5319"),i("f152")),l=i("8403"),n={name:"Profile",data:()=>({mailSending:!1}),components:{Preloader:r["a"]},computed:{user(){return this.$store.getters.user},userLoading(){return this.$store.getters.userLoading},noticesCount(){return this.$store.getters.noticesPagination.total}},methods:{resendVerification(){this.mailSending=!0,l["a"].resendEmailVerification().then(()=>{this.$notify("Письмо с подтверждением отправлено на ваш E-mail.")}).catch(t=>{t.response&&429===t.response.status&&alert("Вы слишком часто просите переотправить вам подтверждение. Повторите попытку позже.")}).finally(()=>{this.mailSending=!1})},clearQueryParam(t){if(void 0!==this.$route.query[t]){let e=Object.assign({},this.$route.query);delete e[t],this.$router.replace({query:e})}}},mounted(){this.$route.query["reload"]&&(this.clearQueryParam("reload"),setTimeout(()=>{location.reload()},400)),this.user?this.user.verifyed&&this.$store.dispatch("loadNotices",{page:1}):this.$onUserLoad.hook(()=>{this.user.verifyed&&this.$store.dispatch("loadNotices",{page:1})})}},o=n,c=i("2877"),u=Object(c["a"])(o,a,s,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-92cdfc32.08fdf919.js.map