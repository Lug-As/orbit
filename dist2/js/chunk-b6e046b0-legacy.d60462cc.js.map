{"version":3,"sources":["webpack:///./src/views/Verification.vue?be5a","webpack:///src/views/Verification.vue","webpack:///./src/views/Verification.vue?7384","webpack:///./src/views/Verification.vue","webpack:///./src/api/verificationService.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","component","resendRequest","axios","post","verificationRequest","id","hash","expires","signature","String","params","resendEmailVerification","verifyEmail"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAcE,EAAG,cACtGE,EAAkB,G,oCCOtB,GACA,oBACA,8BACA,UACA,GADA,WAEA,iCAEA,KAJA,WAKA,mCAEA,QAPA,WAQA,qCAEA,UAVA,WAWA,uCAEA,KAbA,WAcA,kCAGA,SACA,OADA,WACA,WACA,kEACA,iBACA,gGAEA,kBACA,kGAEA,oBACA,gBACA,eACA,OACA,sBAMA,QAvCA,WAwCA,UACA,cAEA,qCCnDsV,I,YCOlVC,EAAY,eACd,EACAR,EACAO,GACA,EACA,KACA,KACA,MAIa,aAAAC,E,0FChBTC,EAAgB,kBAAMC,IAAMC,KAAK,iBAEjCC,EAAsB,SAACC,EAAIC,EAAMC,EAASC,GAC/C,OAAON,IAAMC,KAAK,gBAAkBM,OAAOJ,GAAM,IAAMI,OAAOH,GAAO,KAAM,CAC1EI,OAAQ,CACP,QAAWD,OAAOF,GAClB,UAAaE,OAAOD,OAKR,QACRG,wBADQ,WACkB,6JAClBV,IADkB,sFAG1BW,YAJQ,SAIIP,EAAIC,EAAMC,EAASC,GAAW,6JAClCJ,EAAoBC,EAAIC,EAAMC,EAASC,GADL","file":"js/chunk-b6e046b0-legacy.d60462cc.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (true)?_c('preloader'):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<preloader v-if=\"true\"/>\r\n</template>\r\n\r\n<script>\r\nimport Preloader from '@/components/Preloader'\r\nimport verificationService from '@/api/verificationService'\r\n\r\nexport default {\r\n\tname: 'Verification',\r\n\tcomponents: {Preloader},\r\n\tcomputed: {\r\n\t\tid() {\r\n\t\t\treturn this.$route.params['id']\r\n\t\t},\r\n\t\thash() {\r\n\t\t\treturn this.$route.params['hash']\r\n\t\t},\r\n\t\texpires() {\r\n\t\t\treturn this.$route.query['expires']\r\n\t\t},\r\n\t\tsignature() {\r\n\t\t\treturn this.$route.query['signature']\r\n\t\t},\r\n\t\tuser() {\r\n\t\t\treturn this.$store.getters.user\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\tverify() {\r\n\t\t\tverificationService.verifyEmail(this.id, this.hash, this.expires, this.signature)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.$notify('Ваш E-mail успешно подтвержден! Обновите страницу, чтобы пользоваться сервисом.')\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\talert('Что-то пошло не так! :( Возможно срок действия ссылки истёк либо она была повреждена.')\r\n\t\t\t\t})\r\n\t\t\t\t.finally(() => {\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\tname: 'Profile',\r\n\t\t\t\t\t\tquery: {\r\n\t\t\t\t\t\t\t'reload': 'true',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t},\r\n\t},\r\n\tmounted() {\r\n\t\tif (this.user) {\r\n\t\t\tthis.verify()\r\n\t\t} else {\r\n\t\t\tthis.$onUserLoad.hook(this.verify)\r\n\t\t}\r\n\t},\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Verification.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Verification.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Verification.vue?vue&type=template&id=0f043648&\"\nimport script from \"./Verification.vue?vue&type=script&lang=js&\"\nexport * from \"./Verification.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import axios from 'axios'\r\n\r\nconst resendRequest = () => axios.post('email/resend')\r\n\r\nconst verificationRequest = (id, hash, expires, signature) => {\r\n\treturn axios.post('email/verify/' + String(id) + '/' + String(hash), null, {\r\n\t\tparams: {\r\n\t\t\t'expires': String(expires),\r\n\t\t\t'signature': String(signature),\r\n\t\t},\r\n\t})\r\n}\r\n\r\nexport default {\r\n\tasync resendEmailVerification() {\r\n\t\treturn await resendRequest()\r\n\t},\r\n\tasync verifyEmail(id, hash, expires, signature) {\r\n\t\treturn await verificationRequest(id, hash, expires, signature)\r\n\t},\r\n}\r\n"],"sourceRoot":""}